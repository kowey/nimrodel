#!/bin/bash
# run $TCAPP command on files given as arguments - assumed to be .txt, output in .ann
# if none then run on all the txt files in current directory
# assume environment set up so we can find $TCAPP command

if [[ $# > 1 && $1 == -model ]]
then
	model="-model $2"
	shift
	shift
else
	model=""
fi

if [[ $# > 1 && $1 == -language ]]
then
	language="-language $2"
	shift
	shift
else
	language=""
fi

if [ $# == 0 ]
then
	files="*.txt"
else
	files="$*"
fi

for f in $files; do
  echo $f
  $TCAPP $model $language < $f > ${f%.*}.ann
done